{"ast":null,"code":"import { createReducer, on } from '@ngrx/store';\nimport { crear, toggle, editar, borrar, toggleAll, limpiarTodos } from './todo.actions';\nimport { Todo } from './models/todo.model';\nexport const estadoInicial = [new Todo('Salvar al mundo'), new Todo('Vencer a Thanos'), new Todo('Comprar traje de Ironman'), new Todo('Robar escudo del Capitán América')];\nconst _todoReducer = createReducer(estadoInicial, on(crear, (state, {\n  texto\n}) => [...state, new Todo(texto)]), on(limpiarTodos, state => state.filter(todo => !todo.completado)), on(borrar, (state, {\n  id\n}) => state.filter(todo => todo.id !== id)), on(toggleAll, (state, {\n  completado\n}) => state.map(todo => {\n  return {\n    ...todo,\n    completado: completado\n  };\n})), on(toggle, (state, {\n  id\n}) => {\n  return state.map(todo => {\n    if (todo.id === id) {\n      return {\n        ...todo,\n        completado: !todo.completado\n      };\n    } else {\n      return todo;\n    }\n  });\n}), on(editar, (state, {\n  id,\n  texto\n}) => {\n  return state.map(todo => {\n    if (todo.id === id) {\n      return {\n        ...todo,\n        texto: texto\n      };\n    } else {\n      return todo;\n    }\n  });\n}));\nexport function todoReducer(state, action) {\n  return _todoReducer(state, action);\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}