{"ast":null,"code":"import * as actions from '../../filtro/filtro.actions';\nimport { limpiarTodos } from '../todo.actions';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@angular/common\";\nfunction TodoFooterComponent_li_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 5);\n    i0.ɵɵlistener(\"click\", function TodoFooterComponent_li_6_Template_li_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const filtro_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.cambiarFiltro(filtro_r1));\n    });\n    i0.ɵɵelementStart(1, \"a\", 6);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"titlecase\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const filtro_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵclassProp(\"selected\", filtro_r1 === ctx_r0.filtroActual);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 3, filtro_r1), \" \");\n  }\n}\nexport let TodoFooterComponent = /*#__PURE__*/(() => {\n  class TodoFooterComponent {\n    constructor(store) {\n      this.store = store;\n      this.filtroActual = 'todos';\n      this.filtros = ['todos', 'completados', 'pendientes'];\n      this.pendientes = 0;\n    }\n    ngOnInit() {\n      // this.store.select('filtro')\n      //   .subscribe( filtro => this.filtroActual = filtro );\n      this.store.subscribe(state => {\n        this.filtroActual = state.filtro;\n        this.pendientes = state.todos.filter(todo => !todo.completado).length;\n      });\n    }\n    cambiarFiltro(filtro) {\n      this.store.dispatch(actions.setFiltro({\n        filtro\n      }));\n    }\n    limpiarCompletados() {\n      this.store.dispatch(limpiarTodos());\n    }\n    static #_ = this.ɵfac = function TodoFooterComponent_Factory(t) {\n      return new (t || TodoFooterComponent)(i0.ɵɵdirectiveInject(i1.Store));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: TodoFooterComponent,\n      selectors: [[\"app-todo-footer\"]],\n      decls: 9,\n      vars: 2,\n      consts: [[1, \"footer\"], [1, \"todo-count\"], [1, \"filters\"], [3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"clear-completed\", 3, \"click\"], [3, \"click\"], [\"href\", \"#/\"]],\n      template: function TodoFooterComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"footer\", 0)(1, \"span\", 1)(2, \"strong\");\n          i0.ɵɵtext(3);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(4, \" tareas pendientes\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"ul\", 2);\n          i0.ɵɵtemplate(6, TodoFooterComponent_li_6_Template, 4, 5, \"li\", 3);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"button\", 4);\n          i0.ɵɵlistener(\"click\", function TodoFooterComponent_Template_button_click_7_listener() {\n            return ctx.limpiarCompletados();\n          });\n          i0.ɵɵtext(8, \"Limpiar completados\");\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\" \", ctx.pendientes, \" \");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.filtros);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.TitleCasePipe]\n    });\n  }\n  return TodoFooterComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}